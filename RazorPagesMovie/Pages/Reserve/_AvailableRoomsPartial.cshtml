@model IEnumerable<RazorPagesMovie.Models.Room>

@if (Model != null && Model.Any())
{
    <ul class="list-group">
        @foreach (var room in Model)
        {
            <div class="card mb-3" style="cursor: pointer;" onclick="toggleCardDetails(@room.Id)">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <span>Room @room.RoomNo (@room.RoomType)</span>
                    <input type="checkbox" class="form-check-input"
                           name="SelectedRoomIds"
                           id="SelectedRoomIds"
                           value="@room.Id"
                    @(room.IsSelected ? "checked='checked'" : "") /> <!-- Ensure proper syntax for the checked attribute -->
                    <!-- Preserve the IsSelected state -->
                </div>
                <div class="card-body collapse" id="roomDetails-@room.Id">
                    <p>Details about Room @room.RoomNo</p>
                    <p>Room Type: @room.RoomType</p>
                    <p>Price: $100</p>
                    <!-- Additional room details can go here -->
                </div>
            </div>
        }
    </ul>
}
else
{
    <div class="alert alert-warning">No rooms available for the selected dates.</div>
}

<script>
    // JavaScript to toggle the visibility of room details
    function toggleCardDetails(roomId) {
        var roomDetails = document.getElementById('roomDetails-' + roomId);
        if (roomDetails.classList.contains('show')) {
            roomDetails.classList.remove('show');
        } else {
            roomDetails.classList.add('show');
        }
    }
</script>

@* 
<div>
    @if (Model.Rooms != null && Model.Rooms.Any())
    {
        @foreach (var room in Model.Rooms)
        {
            <div class="card mb-3" style="cursor: pointer;" onclick="toggleCardDetails(@room.Id)">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <span>Room @room.RoomNo (@room.RoomType)</span>
                    <input type="checkbox" class="form-check-input"
                           name="SelectedRoomIds"
                           value="@room.Id" />
                </div>
                <div class="card-body collapse" id="roomDetails-@room.Id">
                    <p>Details about Room @room.RoomNo</p>
                    <p>Room Type: @room.RoomType</p>
                    <p>Price: $100</p>
                    <!-- Additional room details can go here -->
                </div>
            </div>
        }
    }
    else
    {
        <div class="alert alert-warning">No vacant rooms available.</div>
    }
</div> *@